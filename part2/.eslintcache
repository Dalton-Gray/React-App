[{"D:\\xampp\\htdocs\\React\\Week9\\my-app\\src\\index.js":"1","D:\\xampp\\htdocs\\React\\Week9\\my-app\\src\\reportWebVitals.js":"2","D:\\xampp\\htdocs\\React\\Week9\\my-app\\src\\App.js":"3","D:\\xampp\\htdocs\\React\\Week9\\my-app\\src\\components\\Film.js":"4","D:\\xampp\\htdocs\\React\\Week9\\my-app\\src\\components\\Films.js":"5","D:\\xampp\\htdocs\\React\\Week9\\my-app\\src\\components\\Search.js":"6","D:\\xampp\\htdocs\\React\\Week9\\my-app\\src\\components\\SelectLanguage.js":"7","D:\\xampp\\htdocs\\React\\Week9\\my-app\\src\\components\\SelectRating.js":"8","D:\\xampp\\htdocs\\React\\Week9\\my-app\\src\\components\\Actors.js":"9","D:\\xampp\\htdocs\\React\\Week9\\my-app\\src\\components\\NotFound404.js":"10","D:\\xampp\\htdocs\\React\\Week9\\my-app\\src\\components\\Actor.js":"11","D:\\xampp\\htdocs\\React\\Week9\\my-app\\src\\components\\Home.js":"12","D:\\xampp\\htdocs\\React\\Week9\\my-app\\src\\components\\Admin.js":"13","D:\\xampp\\htdocs\\React\\Week9\\my-app\\src\\components\\Login.js":"14","D:\\xampp\\htdocs\\React\\Week9\\my-app\\src\\components\\Update.js":"15","D:\\xampp\\htdocs\\React\\Week9\\my-app\\src\\components\\UpdateItem.js":"16","D:\\xampp\\htdocs\\Assignment\\part2\\src\\index.js":"17","D:\\xampp\\htdocs\\Assignment\\part2\\src\\reportWebVitals.js":"18","D:\\xampp\\htdocs\\Assignment\\part2\\src\\App.js":"19","D:\\xampp\\htdocs\\Assignment\\part2\\src\\components\\Admin.js":"20","D:\\xampp\\htdocs\\Assignment\\part2\\src\\components\\NotFound404.js":"21","D:\\xampp\\htdocs\\Assignment\\part2\\src\\components\\Search.js":"22","D:\\xampp\\htdocs\\Assignment\\part2\\src\\components\\Update.js":"23","D:\\xampp\\htdocs\\Assignment\\part2\\src\\components\\Login.js":"24","D:\\xampp\\htdocs\\Assignment\\part2\\src\\components\\UpdateItem.js":"25","D:\\xampp\\htdocs\\Assignment\\part2\\src\\components\\Authors.js":"26","D:\\xampp\\htdocs\\Assignment\\part2\\src\\components\\Author.js":"27","D:\\xampp\\htdocs\\Assignment\\part2\\src\\components\\Schedules.js":"28","D:\\xampp\\htdocs\\Assignment\\part2\\src\\components\\SelectDay.js":"29","D:\\xampp\\htdocs\\Assignment\\part2\\src\\components\\Schedule.js":"30","D:\\xampp\\htdocs\\Assignment\\part2\\src\\components\\Content.js":"31"},{"size":500,"mtime":499162500000,"results":"32","hashOfConfig":"33"},{"size":362,"mtime":499162500000,"results":"34","hashOfConfig":"33"},{"size":1380,"mtime":1610926932283,"results":"35","hashOfConfig":"33"},{"size":897,"mtime":1610111992819,"results":"36","hashOfConfig":"33"},{"size":3120,"mtime":1610926547729,"results":"37","hashOfConfig":"33"},{"size":367,"mtime":1609848668179,"results":"38","hashOfConfig":"33"},{"size":650,"mtime":1609849029124,"results":"39","hashOfConfig":"33"},{"size":531,"mtime":1609849258479,"results":"40","hashOfConfig":"33"},{"size":2106,"mtime":1610926598133,"results":"41","hashOfConfig":"33"},{"size":204,"mtime":1609850521896,"results":"42","hashOfConfig":"33"},{"size":1062,"mtime":1610926607725,"results":"43","hashOfConfig":"33"},{"size":1851,"mtime":1610926518982,"results":"44","hashOfConfig":"33"},{"size":2787,"mtime":1610926590919,"results":"45","hashOfConfig":"33"},{"size":551,"mtime":1610917642709,"results":"46","hashOfConfig":"33"},{"size":674,"mtime":1610926500916,"results":"47","hashOfConfig":"33"},{"size":691,"mtime":1610925288121,"results":"48","hashOfConfig":"33"},{"size":500,"mtime":499162500000,"results":"49","hashOfConfig":"50"},{"size":362,"mtime":499162500000,"results":"51","hashOfConfig":"50"},{"size":1297,"mtime":1611560948508,"results":"52","hashOfConfig":"50"},{"size":3723,"mtime":1611543120556,"results":"53","hashOfConfig":"50"},{"size":204,"mtime":1611440750853,"results":"54","hashOfConfig":"50"},{"size":372,"mtime":1611440721722,"results":"55","hashOfConfig":"50"},{"size":727,"mtime":1611542737512,"results":"56","hashOfConfig":"50"},{"size":666,"mtime":1611440758817,"results":"57","hashOfConfig":"50"},{"size":701,"mtime":1611440676487,"results":"58","hashOfConfig":"50"},{"size":2176,"mtime":1611559880422,"results":"59","hashOfConfig":"50"},{"size":1075,"mtime":1611543547811,"results":"60","hashOfConfig":"50"},{"size":2586,"mtime":1611543008288,"results":"61","hashOfConfig":"50"},{"size":698,"mtime":1611440714828,"results":"62","hashOfConfig":"50"},{"size":1269,"mtime":1611521553142,"results":"63","hashOfConfig":"50"},{"size":1026,"mtime":1611440765220,"results":"64","hashOfConfig":"50"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"67"},"fdfdqe",{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"67"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"67"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"67"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"67"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"67"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"67"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"67"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"67"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"67"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"67"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"67"},{"filePath":"90","messages":"91","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"67"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"67"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"67"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"98","messages":"99","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"100"},"jk58p9",{"filePath":"101","messages":"102","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"100"},{"filePath":"103","messages":"104","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"100"},{"filePath":"105","messages":"106","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"107","usedDeprecatedRules":"100"},{"filePath":"108","messages":"109","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"100"},{"filePath":"110","messages":"111","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"100"},{"filePath":"112","messages":"113","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"100"},{"filePath":"114","messages":"115","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"100"},{"filePath":"116","messages":"117","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"118"},{"filePath":"119","messages":"120","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"100"},{"filePath":"121","messages":"122","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"100"},{"filePath":"123","messages":"124","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"100"},{"filePath":"125","messages":"126","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"100"},{"filePath":"127","messages":"128","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"100"},{"filePath":"129","messages":"130","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"100"},"D:\\xampp\\htdocs\\React\\Week9\\my-app\\src\\index.js",[],["131","132"],"D:\\xampp\\htdocs\\React\\Week9\\my-app\\src\\reportWebVitals.js",[],"D:\\xampp\\htdocs\\React\\Week9\\my-app\\src\\App.js",[],"D:\\xampp\\htdocs\\React\\Week9\\my-app\\src\\components\\Film.js",[],"D:\\xampp\\htdocs\\React\\Week9\\my-app\\src\\components\\Films.js",[],"D:\\xampp\\htdocs\\React\\Week9\\my-app\\src\\components\\Search.js",[],"D:\\xampp\\htdocs\\React\\Week9\\my-app\\src\\components\\SelectLanguage.js",[],"D:\\xampp\\htdocs\\React\\Week9\\my-app\\src\\components\\SelectRating.js",[],"D:\\xampp\\htdocs\\React\\Week9\\my-app\\src\\components\\Actors.js",[],"D:\\xampp\\htdocs\\React\\Week9\\my-app\\src\\components\\NotFound404.js",[],"D:\\xampp\\htdocs\\React\\Week9\\my-app\\src\\components\\Actor.js",[],"D:\\xampp\\htdocs\\React\\Week9\\my-app\\src\\components\\Home.js",[],"D:\\xampp\\htdocs\\React\\Week9\\my-app\\src\\components\\Admin.js",[],"D:\\xampp\\htdocs\\React\\Week9\\my-app\\src\\components\\Login.js",[],"D:\\xampp\\htdocs\\React\\Week9\\my-app\\src\\components\\Update.js",[],"D:\\xampp\\htdocs\\React\\Week9\\my-app\\src\\components\\UpdateItem.js",[],"D:\\xampp\\htdocs\\Assignment\\part2\\src\\index.js",[],["133","134"],"D:\\xampp\\htdocs\\Assignment\\part2\\src\\reportWebVitals.js",[],"D:\\xampp\\htdocs\\Assignment\\part2\\src\\App.js",[],"D:\\xampp\\htdocs\\Assignment\\part2\\src\\components\\Admin.js",["135"],"import React from 'react';\r\nimport Login from './Login.js';\r\nimport Update from './Update.js';\r\n\r\nclass Admin extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { \"authenticated\": false, \"email\": \"\", \"password\": \"\" }\r\n\r\n    this.handleEmail = this.handleEmail.bind(this);\r\n    this.handlePassword = this.handlePassword.bind(this);\r\n  }\r\n\r\n  state = { \"authenticated\": false, \"email\": \"\", \"password\": \"\" }\r\n\r\n  postData = (url, myJSON, callback) => {\r\n    fetch(url, {\r\n      method: 'POST',\r\n      headers: new Headers(),\r\n      body: JSON.stringify(myJSON)\r\n    })\r\n      .then((response) => response.json())\r\n\r\n      .then((data) => {\r\n        callback(data)\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"something went wrong \", err)\r\n      }\r\n      );\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (localStorage.getItem('myToken')) {\r\n      this.setState({ \"authenticated\": true });\r\n    }\r\n  }\r\n\r\n  loginCallback = (data) => {\r\n    if (data.status === 200) {\r\n      this.setState({ \"authenticated\": true })\r\n      localStorage.setItem('myToken', data.token);\r\n    }\r\n  }\r\n\r\n  updateCallback = (data) => {\r\n    if (data.status !== 200) {\r\n      this.setState({ \"authenticated\": false })\r\n      localStorage.removeItem('myToken');\r\n    }\r\n  }\r\n\r\n  handleLoginClick = () => {\r\n    const url = \"http://unn-w17021399.newnumyspace.co.uk/KF6012/part1/api/login\"\r\n    let myJSON = {\r\n      \"email\": this.state.email,\r\n      \"password\": this.state.password,\r\n    }\r\n    this.postData(url, myJSON, this.loginCallback)\r\n  }\r\n\r\n  parseJwt(token) {\r\n    let base64Payload = token.split('.')[1];\r\n    let payload = Buffer.from(base64Payload, 'base64');\r\n    return JSON.parse(payload.toString());\r\n  }\r\n\r\n  checkJwtExpiry(exp) {\r\n    if (Date.now() >= exp * 1000) {\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  handleUpdateClick = (sessionId, name) => {\r\n    const url = \"http://unn-w17021399.newnumyspace.co.uk/KF6012/part1/api/update-session-name\"\r\n    const isAdmin = this.parseJwt(localStorage.getItem('myToken')).admin\r\n    const tokenExp = this.parseJwt(localStorage.getItem('myToken')).exp\r\n\r\n    if (this.checkJwtExpiry(tokenExp)) {\r\n      if (localStorage.getItem('myToken')) {\r\n        if (isAdmin == 1) {\r\n          let myToken = localStorage.getItem('myToken')\r\n          let myJSON = {\r\n            \"token\": myToken,\r\n            \"sessionId\": sessionId,\r\n            \"name\": name,\r\n          }\r\n          this.postData(url, myJSON, this.updateCallback)\r\n          window.alert(\"Session name updated.\")\r\n        } else {\r\n          window.alert(\"Admin status required.\")\r\n        }\r\n      } else {\r\n        this.setState({ \"authenticated\": false })\r\n      }\r\n    } else {\r\n      window.alert(\"Session expired.\")\r\n      this.setState({ \"authenticated\": false })\r\n      localStorage.removeItem('myToken');\r\n    }\r\n  }\r\n\r\n  handleLogoutClick = () => {\r\n    this.setState({ \"authenticated\": false })\r\n    localStorage.removeItem('myToken');\r\n  }\r\n\r\n  handlePassword = (e) => {\r\n    this.setState({ password: e.target.value })\r\n  }\r\n  handleEmail = (e) => {\r\n    this.setState({ email: e.target.value })\r\n  }\r\n\r\n  render() {\r\n    let page = <Login handleLoginClick={this.handleLoginClick} email={this.state.email} password={this.props.password} handleEmail={this.handleEmail} handlePassword={this.handlePassword} />\r\n    if (this.state.authenticated) {\r\n      page = <div>\r\n        <button className=\"logoutButton\" onClick={this.handleLogoutClick}>Log out</button>\r\n        <Update handleUpdateClick={this.handleUpdateClick} />\r\n      </div>\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <h1>Admin</h1>\r\n        {page}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Admin;","D:\\xampp\\htdocs\\Assignment\\part2\\src\\components\\NotFound404.js",[],"D:\\xampp\\htdocs\\Assignment\\part2\\src\\components\\Search.js",[],"D:\\xampp\\htdocs\\Assignment\\part2\\src\\components\\Update.js",[],"D:\\xampp\\htdocs\\Assignment\\part2\\src\\components\\Login.js",[],"D:\\xampp\\htdocs\\Assignment\\part2\\src\\components\\UpdateItem.js",[],["136","137"],"D:\\xampp\\htdocs\\Assignment\\part2\\src\\components\\Authors.js",[],"D:\\xampp\\htdocs\\Assignment\\part2\\src\\components\\Author.js",[],"D:\\xampp\\htdocs\\Assignment\\part2\\src\\components\\Schedules.js",[],"D:\\xampp\\htdocs\\Assignment\\part2\\src\\components\\SelectDay.js",[],"D:\\xampp\\htdocs\\Assignment\\part2\\src\\components\\Schedule.js",[],"D:\\xampp\\htdocs\\Assignment\\part2\\src\\components\\Content.js",[],{"ruleId":"138","replacedBy":"139"},{"ruleId":"140","replacedBy":"141"},{"ruleId":"138","replacedBy":"142"},{"ruleId":"140","replacedBy":"143"},{"ruleId":"144","severity":1,"message":"145","line":83,"column":21,"nodeType":"146","messageId":"147","endLine":83,"endColumn":23},{"ruleId":"138","replacedBy":"148"},{"ruleId":"140","replacedBy":"149"},"no-native-reassign",["150"],"no-negated-in-lhs",["151"],["150"],["151"],"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected",["150"],["151"],"no-global-assign","no-unsafe-negation"]